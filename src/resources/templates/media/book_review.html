<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" xmlns="http://www.w3.org/1999/xhtml">
    <head th:replace="head :: copy"></head>
    <body>

        <div th:replace="header/headerWithFilter :: copy"></div>

        <div class="container bookinfo">
            <div class="card">
                <div class="card-body row">
                    <div class="col"><img th:src="'/img/'+${medium.getPictureUrl()}"  /></div>
                    <div class="col">
                        <p class="brtitle">Title:</p>
                        <p class = "brvalue" th:text="${medium.getTitle()}"></p>
                        <p class="brtitle">Author:</p>
                        <p class = "brvalue" th:text="${medium.getAuthor().getName()}"></p>
                        <p class="brtitle">Year of release:</p>
                        <p class = "brvalue" th:text="${medium.getYear()}"></p>
                        <form action="/rent" method="post">
                            <input type="hidden" th:name="media_id" th:value="${medium.getId()}" />
                            <div class="d-flex" th:if="${medium.isCopyAvailable()}">
                                <input class="btn btn-primary ml-auto" type="submit" value ="Rent"/>
                            </div>
                            <div class="d-flex" th:unless="${medium.isCopyAvailable()}">
                                <input class="btn btn-secondary ml-auto" type="submit" value ="Rent" disabled=""/>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div>
                <div class="card">
                    <div class="card-body row">
                        <span th:text="'Category: '+${medium.getCategory().getType()}"></span>
                        <span>Genres: </span>
                        <span th:each="genre,iterStat : ${medium.getGenres()}">
                            <span th:text="${genre.getType()}"></span>
                        </span>
                        <span th:if="${medium.isCopyAvailable()}">
                            <span> The book is available</span>
                        </span>
                        <span th:unless="${medium.isCopyAvailable()}">
                            <span th:text="'The book will be available at '+${nextAvailable}"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>